ğŸ” Testing PocketBase connection...
âœ… PocketBase is running
ğŸš€ Applying schema changes to database...

ğŸ” Admin authentication required
ğŸ” Checking for stored credentials...
ğŸ”‘ Using stored credentials...
ğŸ” Credentials saved securely
ğŸ” Credentials saved securely
âœ… Authentication successful with stored credentials
â„¹ï¸  Stored credentials expire in 7 days
âœ… Loaded schema v2.0.0
ğŸ“‹ Collections defined: 10
ğŸ“‹ Collections:
  - users (auth) - 4 fields
  - market_categories (base) - 5 fields
  - amenity_types (base) - 5 fields
  - markets (base) - 27 fields
  - market_amenities (base) - 4 fields
  - market_schedules (base) - 8 fields
  - market_fees (base) - 10 fields
  - stallholders (base) - 14 fields
  - applications (base) - 10 fields
  - reviews (base) - 8 fields

ğŸ“Š SCHEMA COMPARISON RESULTS
=====================================

ğŸ†• Collections to CREATE (3):
  ğŸ“ market_amenities (base) - 4 fields
  ğŸ“ market_schedules (base) - 8 fields
  ğŸ“ market_fees (base) - 10 fields

ğŸ”„ Collections to UPDATE (7):
  ğŸ“ users:
    â• Add field: phone (text)
    â• Add field: verified (bool)
    â• Add field: subscription_tier (select)
    â– Remove field: name (text)
    â– Remove field: avatar (file)
    ğŸ”§ Modify field: role
  ğŸ“ market_categories:
    ğŸ”§ Modify field: name
    ğŸ”§ Modify field: description
    ğŸ”§ Modify field: color
    ğŸ”§ Modify field: icon
    ğŸ”§ Modify field: sort_order
    ğŸ” Modify rule: listRule
    ğŸ” Modify rule: viewRule
  ğŸ“ amenity_types:
    ğŸ”§ Modify field: name
    ğŸ”§ Modify field: description
    ğŸ”§ Modify field: icon
    ğŸ”§ Modify field: category
    ğŸ”§ Modify field: active
    ğŸ” Modify rule: listRule
    ğŸ” Modify rule: viewRule
  ğŸ“ markets:
    â• Add field: category (relation)
    â• Add field: organizer (relation)
    â• Add field: postcode (text)
    â• Add field: latitude (number)
    â• Add field: longitude (number)
    â• Add field: venue_type (select)
    â• Add field: contact_phone (text)
    â• Add field: social_media (json)
    â• Add field: max_stalls (number)
    â• Add field: insurance_minimum (number)
    â• Add field: abn_required (bool)
    â• Add field: waiting_list_enabled (bool)
    â• Add field: featured_image (file)
    â• Add field: gallery_images (file)
    â• Add field: view_count (number)
    â• Add field: favorite_count (number)
    â• Add field: average_rating (number)
    â• Add field: total_reviews (number)
    â– Remove field: frequency (text)
    â– Remove field: operating_hours (text)
    ğŸ”§ Modify field: name
    ğŸ”§ Modify field: slug
    ğŸ”§ Modify field: description
    ğŸ”§ Modify field: address
    ğŸ”§ Modify field: suburb
    ğŸ”§ Modify field: state
    ğŸ”§ Modify field: contact_email
    ğŸ”§ Modify field: website
    ğŸ”§ Modify field: active
    ğŸ” Modify rule: createRule
    ğŸ” Modify rule: updateRule
    ğŸ” Modify rule: deleteRule
  ğŸ“ stallholders:
    â• Add field: user (relation)
    â• Add field: business_description (text)
    â• Add field: abn (text)
    â• Add field: contact_phone (text)
    â• Add field: social_media (json)
    â• Add field: power_required (bool)
    â• Add field: space_requirements (text)
    â• Add field: rating (number)
    â• Add field: reviews_count (number)
    â• Add field: verified (bool)
    â• Add field: subscription_tier (select)
    â– Remove field: description (editor)
    â– Remove field: active (bool)
    ğŸ”§ Modify field: business_name
    ğŸ”§ Modify field: product_categories
    ğŸ”§ Modify field: website
    ğŸ” Modify rule: listRule
    ğŸ” Modify rule: viewRule
    ğŸ” Modify rule: createRule
    ğŸ” Modify rule: updateRule
    ğŸ” Modify rule: deleteRule
  ğŸ“ applications:
    â• Add field: stallholder (relation)
    â• Add field: market (relation)
    â• Add field: application_date (date)
    â• Add field: message (text)
    â• Add field: payment_status (select)
    â• Add field: payment_amount (number)
    â• Add field: stall_assignment (text)
    â– Remove field: stallholder_notes (text)
    ğŸ”§ Modify field: status
    ğŸ”§ Modify field: requested_dates
    ğŸ”§ Modify field: organizer_notes
    ğŸ” Modify rule: listRule
    ğŸ” Modify rule: viewRule
    ğŸ” Modify rule: createRule
    ğŸ” Modify rule: updateRule
    ğŸ” Modify rule: deleteRule
  ğŸ“ reviews:
    â• Add field: title (text)
    â• Add field: helpful_votes (number)
    â– Remove field: active (bool)
    ğŸ”§ Modify field: reviewer
    ğŸ”§ Modify field: target_type
    ğŸ”§ Modify field: target_id
    ğŸ”§ Modify field: rating
    ğŸ”§ Modify field: comment
    ğŸ”§ Modify field: verified_purchase

=====================================
ğŸ’¡ Run "node scripts/schema-manager.js apply" to apply these changes

âš ï¸  WARNING: This will modify your database structure!
Continue? (yes/no): 